<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guild Soul</title>
    <link rel="icon" href="Sword.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="main-content">
        <div id="home-screen">
            <h1>ギルド・ソウル</h1>
            <div class="home-controls">
                <button onclick="startGame(true)">スタート：初心者</button>
                <button onclick="startGame(false)">スタート：上級者</button>
                <button onclick="showPastRecords()">過去の記録を見る</button>
            </div>
        </div>

        <div id="game-container" style="display: none;">
            <div id="time-controls" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 10px; background: #f0f0f0;">
                <div>
                    <p style="font-size: 1.2em; margin: 0;">🗓️ 現在の月: <strong id="month">1年目の 1月</strong></p>
                </div>
                <div>
                    <button onclick="showSaveLoadModal('save')">セーブ</button>
                    <button onclick="showSaveLoadModal('load')">ロード</button>
                    <button id="next-month-button" onclick="nextMonth()" class="next-month-button">▶️ Next Month</button>
                </div>
            </div>
            
            <div id="last-month-log" style="display: none;">
                <h2>先月の記録</h2>
                <pre id="log-content"></pre>
            </div>

            <div id="stats">
                <p><strong>資金:</strong> <span id="gold">100</span> 万G</p>
                <p><strong>冒険者数:</strong> <span id="adventurer-count">0</span> 人</p>
                <p><strong>スカウト能力:</strong> <span id="scout-skill">100</span></p> 
            </div>

            <hr>

            <div id="action-section">
                <h2>🛡️ ギルド運営 - アクション</h2>
                <div class="controls" id="action-controls">
                    <div id="auto-assign-wrapper">
                        <button onclick="autoAssignQuests()">おすすめ任務を割り当て</button>
                    </div>
                </div>
            </div>
            <hr>

            <div id="scout-section">
                <h2>🛡️ ギルド管理 - スカウト</h2>
                <div class="controls" id="scout-controls">
                    <button onclick="scoutAdventurers('immediate')">即戦力重視</button> 
                    <button onclick="scoutAdventurers('growth')">成長重視</button> 
                    <button onclick="scoutAdventurers('focused')">集中スカウト</button>
                </div>
            </div>
            <hr>

            <div id="scout-area" style="display: none;">
                </div>

            <h2>所属冒険者リスト</h2>
            <div style="margin-bottom: 10px;">
                <label for="show-avatars" style="cursor: pointer;">
                    <input type="checkbox" id="show-avatars" checked onchange="renderAdventurerList()"> アバター表示
                </label>
            </div>
            <div id="adventurer-list">
                </div>

            <hr>

            <div id="quests">
                </div>

            <div id="quest-detail-area" style="display: none;">
                </div>
        </div>
    </div>
    
    <!-- チュートリアル用オーバーレイ -->
    <div id="tutorial-overlay" style="display: none;">
        <div id="tutorial-message-box">
            <p id="tutorial-text"></p>
            <button id="tutorial-next-button" style="display: none;" onclick="advanceTutorial()">次へ</button>
        </div>
    </div>

    <!-- セーブ/ロード用モーダル -->
    <div id="save-load-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="save-load-title">セーブ/ロード</h2>
            <div id="save-load-slots">
                <!-- スロットはJSで動的に生成されます -->
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="closeSaveLoadModal()">閉じる</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
